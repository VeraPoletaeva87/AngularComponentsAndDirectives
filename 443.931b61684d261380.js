"use strict";(self.webpackChunkangularIntro=self.webpackChunkangularIntro||[]).push([[443],{443:(w,m,o)=>{o.r(m),o.d(m,{YouTubeModule:()=>O});var l=o(6814),p=o(1247),c=o(7276),t=o(6689),h=o(3245),u=o(3596),g=o(3905);let f=(()=>{class i{constructor(s){this.router=s,this.borderColor="border-red"}get color(){const s=new Date(this.item.snippet.publishedAt);let e=new Date;const n=new Date(e.setMonth(e.getMonth()-6));e=new Date;const r=new Date(e.setMonth(e.getMonth()-1));e=new Date;const a=new Date(e.setDate(e.getDate()-7));return s>=n&&s<=r&&(this.borderColor="border-yellow"),s>=r&&s<=a&&(this.borderColor="border-green"),s>=a&&(this.borderColor="border-blue"),this.borderColor}clickHandler(){this.router.navigate(["/details/:id",{id:this.item.id}])}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(c.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-item"]],hostVars:2,hostBindings:function(e,n){2&e&&t.Tol(n.color)},inputs:{item:"item"},decls:20,vars:9,consts:[[1,"item-block","border"],[1,"image",3,"src"],[1,"flex-center"],["src","assets/images/viewsIcon.png"],[1,"margin-small","font-small"],["src","assets/images/likesIcon.png",1,"margin-medium"],["src","assets/images/dislikesIcon.png",1,"margin-medium"],["src","assets/images/commentsIcon.png",1,"margin-medium"],[1,"name"],[1,"flex-center","top-large"],[3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2),t._UZ(3,"img",3),t.TgZ(4,"span",4),t._uU(5),t.qZA(),t._UZ(6,"img",5),t.TgZ(7,"span",4),t._uU(8),t.qZA(),t._UZ(9,"img",6),t.TgZ(10,"span",4),t._uU(11),t.qZA(),t._UZ(12,"img",7),t.TgZ(13,"span",4),t._uU(14),t.qZA()(),t.TgZ(15,"div",8),t._uU(16),t.qZA(),t.TgZ(17,"div",9)(18,"app-button",10),t.NdJ("click",function(){return n.clickHandler()}),t._uU(19,"more.."),t.qZA()()()),2&e&&(t.Tol(n.borderColor),t.xp6(1),t.s9C("src",n.item.snippet.thumbnails.default.url,t.LSH),t.xp6(4),t.Oqu(n.item.statistics.favoriteCount),t.xp6(3),t.Oqu(n.item.statistics.likeCount),t.xp6(3),t.Oqu(n.item.statistics.likeCount),t.xp6(3),t.Oqu(n.item.statistics.commentCount),t.xp6(2),t.AsE(" ",n.item.snippet.channelTitle," ",n.item.snippet.title," "))},dependencies:[g.r],styles:[".item-block[_ngcontent-%COMP%]{background-color:#e3e0e0;width:250px;height:300px;border-radius:6px}.image[_ngcontent-%COMP%]{width:90%;height:40%;padding:12px}.margin-medium[_ngcontent-%COMP%]{margin-left:12px}.margin-small[_ngcontent-%COMP%]{margin-left:4px}.font-small[_ngcontent-%COMP%]{font-size:12px}.flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center}.name[_ngcontent-%COMP%]{margin:10px;font-size:20px;font-weight:700;color:gray;text-align:center;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;height:46px}.top-large[_ngcontent-%COMP%]{position:relative;top:24px}.border[_ngcontent-%COMP%]{border-bottom-width:5px;border-bottom-style:solid}.border-red[_ngcontent-%COMP%]{border-bottom-color:red}.border-yellow[_ngcontent-%COMP%]{border-bottom-color:#ff0}.border-green[_ngcontent-%COMP%]{border-bottom-color:green}.border-blue[_ngcontent-%COMP%]{border-bottom-color:#00f}"]})}return i})();function b(i,d){1&i&&t._UZ(0,"app-item",2),2&i&&t.Q6J("item",d.$implicit)}let v=(()=>{class i{constructor(s){this.youTubeService=s,this.searchText="",this.items=[],this.wholeData=[]}sortItems(){this.youTubeService.getItems(this.searchText).subscribe(s=>{this.wholeData=[],s.forEach(e=>{this.youTubeService.getStatistics(e.id.videoId).subscribe(n=>{this.wholeData.push({id:e.id.videoId,snippet:e.snippet,statistics:n})})}),this.items=this.wholeData.sort((e,n)=>{const r=new Date(e.snippet.publishedAt).getTime(),a=new Date(n.snippet.publishedAt).getTime();return"date"===this.sort&&this.direction?r-a:a-r})})}ngOnInit(){this.searchText=this.search,this.sortItems()}ngOnChanges(){this.searchText=this.search,this.sortItems()}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(u.q))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-list"]],inputs:{sort:"sort",direction:"direction",search:"search"},features:[t.TTD],decls:2,vars:1,consts:[[1,"grid-container"],["class","grid-item",3,"item",4,"ngFor","ngForOf"],[1,"grid-item",3,"item"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,b,1,1,"app-item",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.items))},dependencies:[l.sg,f],styles:[".grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto;padding-top:10px;padding-left:300px;width:70%}.grid-item[_ngcontent-%COMP%]{padding:20px}"]})}return i})(),C=(()=>{class i{constructor(s){this.sharedService=s,this.sort="",this.direction=!0,this.searchText="",this.subscription=this.sharedService.getValue().subscribe(e=>{this.searchText=e})}ngOnInit(){this.sort=this.sharedService.sort,this.direction=this.sharedService.direction,this.searchText=this.sharedService.searchText}ngOnDestroy(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(h.F))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-main"]],decls:1,vars:3,consts:[[3,"sort","direction","search"]],template:function(e,n){1&e&&t._UZ(0,"app-list",0),2&e&&t.Q6J("sort",n.sort)("direction",n.direction)("search",n.searchText)},dependencies:[v]})}return i})();var T=o(2764);const x=[{path:"",component:C,canActivate:[()=>{const i=(0,t.f3M)(T.r),d=(0,t.f3M)(c.F0);return!!i.isLoggedIn()||d.parseUrl("/login")}]}];let M=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(x),c.Bz]})}return i})();var y=o(95);let O=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({providers:[l.uU],imports:[l.ez,p.Z,y.UX,M]})}return i})()}}]);